<UserControl x:Class="Slicer14_v2.ViewportControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:hx="http://helix-toolkit.org/wpf/SharpDX"
             xmlns:local="clr-namespace:Slicer14_v2"
             x:Name="ViewportControlRoot"
             DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <Grid>
        <hx:Viewport3DX Grid.Column="2" x:Name="view1"
                        Camera="{Binding Camera}"
                        EffectsManager="{Binding EffectsManager}"
                        MouseLeftButtonDown="Viewport_MouseLeftButtonDown">
            <hx:DirectionalLight3D Color="White" Direction="-1,-1,-1"/>

            <!-- Use ItemsModel3D to bind the Models collection -->
            <hx:ItemsModel3D ItemsSource="{Binding Models}">
                <hx:ItemsModel3D.ItemTemplate>
                    <DataTemplate>
                        <hx:MeshGeometryModel3D Geometry="{Binding Geometry}" Material="{Binding Material}" />
                    </DataTemplate>
                </hx:ItemsModel3D.ItemTemplate>
            </hx:ItemsModel3D>
        </hx:Viewport3DX>
    </Grid>
</UserControl>